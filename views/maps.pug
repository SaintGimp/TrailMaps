extends layout

block body
  include navbar
  include createWaypointDialog
  
  div.contentArea.tab-content(id='mapCanvas')
    div.contents.map-control.tab-pane(id='azure', class=defaultMapName === 'azure' ? 'active' : '')
    div.contents.map-control.tab-pane(id='google', class=defaultMapName === 'google' ? 'active' : '')
    // TODO: Here apparently supports canvas for hardware accel?
    div.contents.map-control.tab-pane(id='here', class=defaultMapName === 'here' ? 'active' : '')
    div.crosshair
      img(src='/images/crosshair.png')

block scripts
  script(nonce=cspNonce).
    trailMaps = window.trailMaps || {};
    trailMaps.configuration = trailMaps.configuration || {};
    trailMaps.configuration.defaultMapName = '#{defaultMapName}';
    trailMaps.configuration.defaultLatitude = #{defaultLatitude};
    trailMaps.configuration.defaultLongitude = #{defaultLongitude};
    trailMaps.configuration.defaultZoom = #{defaultZoom};
    trailMaps.configuration.hereApiId = "#{hereApiId}";
    trailMaps.configuration.hereApiCode = "#{hereApiCode}";

  //- ES6 Modules (native browser support)
  script(type='module' src='/js/maps.js')
